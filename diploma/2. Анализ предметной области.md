## 1. Социальная сеть Mastodon

## 2. Платформа Luwrain

### 2.1 Основная информация

Luwrain - это платформа для построения невизуальных интерфейсов для слепых и слабовидящих людей.

Особенностью и отличительной чертой данной платформы является нативный невизуальный интерфейс. Компоненты платформы позволяют создать эффективно взаимодействовать с компьютером и обрабатывать ситуации, когда невозможно получить информацию с экрана в невизуальной форме. Это позволяет создать единый подход к работе над задачами любого рода, а следовательно выработать ряд привычек, которые помогают определить порядок действий в той или иной ситуации без необходимости прибегать к документации.

В основе данного похода лежит идея невизуального дизайна. Она заключается в том, чтобы как можно сильнее снизить издержки взаимодействия пользователя с системой. Это достигается наличием текстового представления у каждого элемента интерфейса, которое отображается на экране (эта возможность сохранена для слабовидящих пользователей). Текстовая информация, в свою очередь, воспроизводится в виде звука при помощи синтезатора речи. Эта функция поддерживается повсеместно. При этом, есть два режима воспроизведения:
1. Воспроизведение при интерактивном взаимодействии;
   Данное режим представляет из себя более точное воспроизведение текста и подходит для навигации. 
2. Воспроизведение для прослушивания.
   Данный режим приближен к естественной речи и подходит для прослушивания текстов и книг.

### 2.2 Расширения

Платформа спроектирована таким образом, что использование ее компонент не вызывает затруднений и позволяет любому пользователю легко создать собственное приложение с необходимой ему функциональностью. Это возможно при помощи так называемых "расширений". Фактически, расширение представляет из себя реализацию интерфейса `org.luwrain.core.Extension` или `org.luwrain.core.EmptyExtension`, который создан для удобства и позволяет добавить только необходимые функции.
Расширения бывают двух типов:
1. Расширения, скомпилированные в виде jar файла;
   Большая часть расширений написана на Java, в данной работе реализация будет написана на Kotlin, так же, предполагается возможность написания расширений на Scala и Groovy, однако это не проверялось.
2. Расширения, написанные на JavaScript.
Так же, расширения делятся на две категории:
1. Системные;
   Доверенные расширения из состава дистрибутива.
2. Пользовательские.
   Так как пользовательские расширения могут быть получены из непроверенных источников для них в системе присутствуют механизмы ограничений.

При загрузке платформа LUWRAIN самостоятельно создаст экземпляр класса расширения и запросит необходимое множество объектов для интеграции.
В дистрибутивах LUWRAIN присутствуют два каталога расширений: jar и lib. При запуске системы содержимое этих каталогов сканируется и все файлы с расширением .jar. Подразумевается, что в каталоге `jar` находятся файлы, которые собраны из исходных текстов проекта, а в `lib` присутствуют сторонние библиотеки, полученные от других разработчиков в виде бинарных файлов.

При обработке каждого файла с расширением `.jar` проверяется наличие секции `org/luwrain` в его манифесте. Если в этой секции есть значение `Extensions`, то предполагается, что оно содержит список классов, удовлетворяющих интерфейсу `org.luwrain.core.Extension`, каждый из которых воспринимается как класс расширения для загрузки. Если такое значение в манифесте отсутствует, то файл загружается просто как вспомогательная библиотека, классы которой будут доступны другим библиотекам.

Обратите внимание, что порядок членов манифеста в таких системах сборки как Apache Maven и Gradle может отличаться от указанного выше. Это обусловлено тем, что в их реализации используется HashMap, а не LinkedHashMap, что может нарушать необходимый порядок и ваше расширение распознается некорректно и будет загружено, как библиотека. Если вы столкнулись с такой проблемой, то одним из ее решений может использование системы сборки Ant.
https://discuss.gradle.org/t/order-of-manifest-attributes-is-no-longer-preserved/18168

В файле конфигурации сбоки Ant, build.xml, необходимо указать следующие параметры в target, который собирает jar файл:
```xml
<jar jarfile="jar/your-app.jar">
	<manifest>
		<section name="org/luwrain">
			<attribute name="Extensions" value="path.to.Extension"/>
		</section>
	</manifest>
    ...
</jar>
```

