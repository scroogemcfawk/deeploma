
## 4.1. Актеры и варианы использования

Прежде чем браться за работу по реализации необходимо четко определить, что необходимо реализовать. Для этого полезно выделить варианты использования, так как они определяют, что пользователь может извлечь от работы с системой.

В ходе анализа были выявлены следующие акеры:
1. Незарегистрированный пользователь
2. Зарегистрированный пользователь
3. Авторизованный пользователь

Итак, основные варианты использования включают:
1. Зарегистрироваться
2. Сделать log-in
3. Опубликовать статус
4. Просмотреть свой таймлайн
5. Просмотреть публичный таймлайн
6. Найти пользователей по имени
7. Найти пользователя по идентификатору
8. Просмотреть информацию о себе
9. Редактировать информацию о себе
10. Подписаться/отписаться от пользователя
11. Сделать log-out

![[use-case-diagram.png]]

Стоит обратить внимание, что для доступа к основной функциональности социальной сети пользователю необходимо авторизоваться. Это обусловлено тем, что для большинства функций требуется токен доступа.

## 4.2. Функциональные требования

На основе вариантов использования были сформулированы следующие функциональные требования:
- Регистрация: пользователь должен иметь возможность, указав желаемое имя, адрес своей электронной почты и пароль, отправить сервису социальной сети запрос на создание учетной записи.
- Логин: пользователь должен иметь возможность, указав адрес своей электронной почты и пароль, авторизовать приложение в сервисе социальной сети.
- Логаут: пользователь должен иметь возможность отключить у приложения возможность делать авторизованные запросы сервису социальной сети.
- Просмотр домашнего таймлайна: пользователь должен иметь возможность просмотреть созданные им ранее статусы.
- Просмотр публичного таймлайна: пользователь должен иметь возможность просмотреть статусы, созданные ранее другими пользователями социальной сети.
- Поиск пользователей по имени: пользователь должен иметь возможность делать поиск пользователя по имени, результатом которого будет список наиболее подходящих пользователей.
- Поиск пользователей идентефикатору: пользователь должен иметь возможность делать поиск пользователя по его идентификатору, результатом которого может быть только единственный найденный пользователь.
- Просмотр информации о себе: пользователь должен иметь возможность просматривать информацию, которая указана в его профиле.
- Редактирование информации о себе: пользователь должен иметь возможность изменять информацию, которая указана в его профиле.
- Просмотр информации о веб сайте: пользователь должен иметь возможность просматривать информацию, которая указана параметрах указанного вебсайта.

## 4.3. Нефункциональные требования

Для клиента-приложения были сформированы следующие нефункциональные требования:
- Отзывчивость: приложение должно быстро реагировать на команды пользователя, обеспечивая максимальное время ожидания результата на команду, не требующую http запросов - не более 1 секунды, для команд, где требуются http запросы - не более 3 секунд.
- Надежность: система должна корректно обрабатывать наибольшее количество исключительных ситуаций, получившихся как в результате пользовательской ошибки, так и при системных ошибках.
- Безопасноить: приложение должно обеспечивать надежное хранение личных данных пользователя и допускать только авторизованный доступ к ней.
- Нативный невизуальный интерфейс: система должна по максимуму задействовать компоненты платформы Luwrain, а так же следовать общим принципам построения невизуальных интерфейсов для обеспечения наиболее комфортного пользовательского опыта для целевой аудитории.

## 4.4. Сценарии

Для более детального понимания разрабатываемого функционала было решено описать варианты использования при помощи сценариев.

Сокращения:
- Пользователь - (П)
	- Незарегистрированный пользователь - (НП)
	- Зарегистрированный пользователь - (ЗП)
	- Авторизованный пользователь - (АП)
- Клиентское приложение - (К)
- Сервис социальной сети - (С)

Так как актер (ЗП) расширяет (НП), а (АП) расширяет (ЗП), то в описанных далее сценариях существует возможность замены расширяемых атеров на расширяющие.

Сценарий НП.1 - Регистрация
Роль: (НП)
Пре-увлосие: (НП) находится на экране логина и регистрации и прочитал правила вебсайта
Основной сценарий:
1. (НП) заполняет поля: имя пользователя, электронная почта, пароль, причина регистрации
2. (К) посылает запрос (С) на создание учетной записи
3. (С) присылает на указанный (НП) почтовый ящик с ссылкой для подтверждения регистрации
4. (НП) переходит по ссылке
5. (С) показывает уведомление об успешной регистрации
Альтернатива 1:
3. (С) возвращает (К) ошибку, так как пользователь с таким именем или электронной почтой уже существует
4. (К) показывает клиенту причину ошибки
Пост-условие: (НП) становится (ЗП)

Сценарий ЗП.1 - Login
Роль: (ЗП)
Пре-увлосие: (ЗП) находится на экране логина и регистрации
Основной сценарий:
1. (ЗП) заполняет поля: электронная почта, пароль
2. (К) отправляет запрос (С) с указанными данными для получения ключа авторизации
3. (С) отправляет (К) ключ авторизации
Альтернатива 1:
3. (С) указанные данные не соответствуют ни одному существующему пользователю
Пост-условие: (ЗП) становится (АП)

Сценарий АП.1 - Logout
Роль: (АП)
Пре-увлосие: (АП) находится на главном экране
Основной сценарий:
1. (АП) нажимает на кнопку "logout"
2. (К) обнуляет текущие данные авторизации и направляет пользователя на экран логина и регистрации
Пост-условие: (АП) принимает роль (ЗП)

Сценарий АП.2 - Домашний таймлайн
Роль: (АП)
Пре-увлосие: (АП) находится на главном экране
Основной сценарий:
1. (АП) нажимает на кнопку "показать домашний таймлайн"
2. (К) посылает (С) запрос на получение списка статусов, принадлежащих пользователю
3. (С) посылает сформированный список на (К)
4. (К) отображает список всех статусов и подробную информацию о 1 элементе списка
Пост-условие: (АП) находится на главном экране

Сценарий АП.3 - Публичный таймлайн
Роль: (АП)
Пре-увлосие: (АП) находится на главном экране
Основной сценарий:
1. (АП) нажимает на кнопку "показать публичный таймлайн"
2. (К) посылает (С) запрос на получение списка статусов, принадлежащих всем пользователям
3. (С) посылает сформированный список на (К)
4. (К) отображает список всех статусов и подробную информацию о 1 элементе списка
Пост-условие: (АП) находится на главном экране

Сценарий АП.4 - Поиск по имени пользователя
Роль: (АП)
Пре-увлосие: (АП) находится на главном экране
Основной сценарий:
1. (АП) нажимает на кнопку "поиск по имени"
2. (К) отображает поле для ввода запроса и кнопку "искать"
3. (АП) вводит запрос для поиска и нажимает на кнопку "искать"
4. (К) посылает (С) запрос на получение списка пользователей
5. (С) посылает сформированный список на (К)
6. (К) отображает список всех найденных пользователей и подробную информацию о 1 пользователе
Пост-условие: (АП) находится на главном экране

Сценарий АП.5 - Поиск пользователя по идентификатору
Роль: (АП)
Пре-увлосие: (АП) находится на главном экране
Основной сценарий:
1. (АП) нажимает на кнопку "поиск по идентификатору"
2. (К) отображает поле для ввода запроса и кнопку "искать"
3. (АП) вводит имя пользователя для поиска и нажимает на кнопку "искать"
4. (К) посылает (С) запрос на получение списка пользователей
5. (С) посылает сформированный список на (К)
6. (К) отображает первый элемент полученного списка
Альтернатива 1:
6. (К) отображает информацию, что пользователь не был найден
Пост-условие: (АП) находится на главном экране

Сценарий АП.6 - Просмотр информации о себе
Роль: (АП)
Пре-увлосие: (АП) находится на главном экране
Основной сценарий:
1. (АП) нажимает на кнопку "о себе"
2. (К) посылает запрос (С) на получение информации о пользователе
3. (С) возвращает информацию о пользователе
4. (К) отображает информацию о пользователе
Пост-условие: (АП) находится на главном экране

Сценарий АП.7 - Редактирование информации о себе
Роль: (АП)
Пре-увлосие: (АП) находится на главном экране
Основной сценарий:
1. (АП) нажимает на кнопку "редактировать"
2. (К) посылает запрос (С) на получение информации о пользователе
3. (С) возвращает информацию о пользователе
4. (К) отображает информацию о пользователе с кнопками "редактировать" напротив каждого поля
5. (АП) выбирает необходимое для редактирование поле, нажимает на кнопку и вводит данные, затем нажимает на кнопку "сохранить"
6. (К) посылает (С) запрос на изменение данных о пользователе
Пост-условие: (АП) находится на главном экране

Сценарий АП.8 - Просмотр информации об инстансе
Роль: (АП)
Пре-увлосие: (АП) находится на главном экране
Основной сценарий:
1. (АП) нажимает на кнопку "инстанс"
2. (К) отображает поле для ввода домена и кнопку "искать"
3. (АП) вводит необходимый домен и нажимает на кнопку
4. (К) посылает запрос (С)
5. (С) возвращает информацию об инстансе
6. (К) отображает полученную информацию
Пост-условие: (АП) находится на главном экране

Сценарий АП.9 - Подписка/отписка от/на пользователя
Роль: (АП)
Пре-увлосие: (АП) выполнил один из сценариев: АП.4, АП.5 и узнал логин пользователя, на которого он хочет подписаться/отписаться
Основной сценарий:
1. (АП) нажимает на кнопку "подписаться/отписаться"
2. (К) отображает форму для ввода логина пользователя и кнопку "подписаться/отписаться"
3. (АП) вводит логин и нажимает на кнопку "подписаться/отписаться"
4. (К) отправляет запрос (С)
5. (С) возвращает статус операции (К)
6. (К) отображает пользователю об успешной подписке/отписке от/на пользователя
Альтернатива 1:
6. (К) отображает, что пользователя не существует, если были указаны неправильные данные
Пост-условие: (АП) находится на главном экране